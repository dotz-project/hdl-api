<link rel="stylesheet" href="./ClaroAdm/ddd/ddd.css">
<div>
    <h2>DDDs</h2>
    <button ng-click="methods.registerModal()" class="btn btn-danger">Novo DDD</button>
    <div class="panel panel-default ">
        <table class="table table-striped">
            <thead>
                <tr>
                <th>id</th>
                <th>Grupo</th>
                <th>DDDs</th>
                <th>Criado em</th>
                <th>Ativado</th>
                <th>Ação</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="ddd in ddds track by $index">
                    <td ng-bind="ddd.id"></th>
                    <td ng-bind="ddd.name"></td>
                    <td ng-bind="ddd.ddds"></td>
                    <td ng-bind="ddd.created_at | amUtc | amDateFormat:'DD/MM/YYYY HH:mm:ss'"></td>
                    <td>
                        <toggle ng-model="ddd.statusFlag" ng-change="methods.edit(ddd)" on="Ativado" off="Desativado"></toggle>
                    </td>
                    <td>
                        <button title="Editar" ng-click="methods.editModal(ddd)" class="btn btn-info" type="button"><i class="far fa-edit"></i></button>
                        <button title="Deletar" ng-click="methods.delete(ddd)" class="btn btn-danger" type="button"><i class="fas fa-minus-circle"></i></button>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3">
                        <ul uib-pagination total-items="totalItems" max-size="rangePagination" ng-model="currentPage" ng-change="methods.pageChanged(currentPage)" class="no-margin" next-text="Próximo" previous-text="Anterior"></ul>  
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
</div>

<!--MODAIS-->
<div id="modalRegister" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <form name="register" novalidate ng-submit="methods.register(ddd)">
                    <div class="form-group">
                        <label>Nome</label>
                        <input type="text" name="name" class="form-control" ng-model="ddd.name" required>
                        <span ng-show="(register.name.$touched || submitted) && register.name.$invalid">Nome obrigatório</span>
                    </div>
                    <div class="form-group">
                        <label>DDDs</label>
                        <textarea name="ddds" class="form-control" ng-model="ddd.ddds" required></textarea>
                        <span ng-show="(register.ddds.$touched || submitted) && register.ddds.$invalid">Insira os DDDs</span>
                    </div>
                    <button type="submit"  class="btn btn-primary">Cadastrar</button>
                </form>
            </div>
        </div>
    </div>
</div>
<div id="modalEdit" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <form name="edit" novalidate ng-submit="methods.edit(ddd)">
                    <div class="form-group">
                        <label>Nome</label>
                        <input type="text" name="name" class="form-control" ng-model="ddd.name" required>
                        <span ng-show="(register.name.$touched || submitted) && register.name.$invalid">Nome obrigatório</span>
                    </div>
                    <div class="form-group">
                        <label>DDDs</label>
                        <textarea name="ddds" class="form-control" ng-model="ddd.ddds" required></textarea>
                        <span ng-show="(register.ddds.$touched || submitted) && register.ddds.$invalid">Insira os DDDs</span>
                    </div>
                    <button type="submit"  class="btn btn-primary">Editar</button>
                </form>
            </div>
        </div>
    </div>
</div>